<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- 
    specify variables:
    
    ${builddir} - where to build
    ${version}  - release version
    ${jambidir} - where qtjambi resides
 -->
<project default="create_run_jar" name="Create Runnable Jar for Project QJBookShelf">

	<property name="libdir" value="${basedir}/lib/" />
	<property name="bindir" value="${basedir}/bin/" />
	<property name="targetdir" value="${builddir}/jbookshelf-${version}" />

	<target name="create_run_jar">
		<jar destfile="${targetdir}/jbookshelf.jar" filesetmanifest="mergewithoutmain">
			<manifest>
				<attribute name="Built-By" value="${user.name}" />
				<attribute name="Main-Class" value="org.jbookshelf.qtgui.MainWindow" />
				<attribute name="Class-Path" value="." />
			</manifest>

			<zipfileset excludes="META-INF/*.SF" src="${jambidir}/qtjambi-4.4.3_01.jar" />
			<zipfileset excludes="META-INF/*.SF" src="${jambidir}/qtjambi-linux32-gcc-4.4.3_01.jar" />

			<zipfileset excludes="META-INF/*.SF" src="${libdir}/junit.jar" />
			<zipfileset excludes="META-INF/*.SF" src="${libdir}/kernel.jar" />
			<zipfileset excludes="META-INF/*.SF" src="${libdir}/org.eclipse.emf.common_2.4.0.v200808251517.jar" />
			<zipfileset excludes="META-INF/*.SF" src="${libdir}/org.eclipse.emf.ecore_2.4.1.v200808251517.jar" />
			<zipfileset excludes="META-INF/*.SF" src="${libdir}/org.eclipse.emf.ecore.xmi_2.4.1.v200808251517.jar" />
			<fileset dir="${bindir}" />
		</jar>
	</target>

</project>
